---
slug: v2-8-6-release
title: v2.8.6 - Platform-Specific Naming Convention
authors: [hyochan]
tags: [release, breaking-change, ios, android, refactoring]
---

# v2.8.6 Release Notes

We're excited to announce the release of Expo IAP v2.8.6, which introduces important naming convention changes to improve code clarity and platform-specific function identification.

## Breaking Changes

### Platform-Specific Function Suffixes

To enhance code readability and prevent confusion between platform-specific and cross-platform functions, we've standardized our naming conventions:

#### iOS Functions

All iOS-specific functions now use the `IOS` suffix:

- `getPromotedProductIOS()`
- `clearTransactionIOS()`
- `getPendingTransactionsIOS()` (new)
- `requestPurchaseOnPromotedProductIOS()` (replaces `buyPromotedProductIOS`)

#### Android Functions

All Android-specific functions now use the `Android` suffix:

- `acknowledgePurchaseAndroid()`
- `consumeProductAndroid()`
- `getPackageNameAndroid()`

#### Cross-Platform Functions

Common functions that work across both platforms remain without suffix:

- `requestProducts()`
- `requestPurchase()`
- `requestSubscription()`
- `getAvailablePurchases()`
- `finishTransaction()`

## New Features

### iOS Transaction Management

- **`getPendingTransactionsIOS()`**: New function to retrieve pending transactions
- **`clearTransactionIOS()`**: New function to explicitly clear specific transactions

## Function Renaming

- `buyPromotedProductIOS` â†’ `requestPurchaseOnPromotedProductIOS`
  - Updated to use `request` prefix following OpenIAP naming conventions

## Deprecations

The following functions will be removed in v2.9.0:

- **`getPurchaseHistories()`**: Use `getAvailablePurchases()` instead
- **`buyPromotedProductIOS()`**: Use `requestPurchaseOnPromotedProductIOS()` instead
- **`disable()`**: No longer needed (observer management is now automatic)

## Bug Fixes (v2.8.4-2.8.5)

### Android

- Fixed `finishTransaction` null error by adding fallback to `purchaseTokenAndroid` (#180)
- Improved automatic service reconnection using Android Billing Client v8 features (#178)

### iOS

- Fixed iOS 18.4 properties build failure on Xcode 16.3 and below (added Swift 6.1 compiler guard)

## Migration Guide

### Before (v2.8.5 and earlier)

```typescript
import {
  buyPromotedProductIOS,
  acknowledgePurchase,
  consumeProduct,
  getPurchaseHistories,
} from 'expo-iap';

// iOS promoted product purchase
await buyPromotedProductIOS();

// Android-specific operations (ambiguous naming)
await acknowledgePurchase(purchaseToken);
await consumeProduct(purchaseToken);

// Deprecated function
const histories = await getPurchaseHistories();
```

### After (v2.8.6+)

```typescript
import {
  requestPurchaseOnPromotedProductIOS,
  acknowledgePurchaseAndroid,
  consumeProductAndroid,
  getAvailablePurchases,
  getPendingTransactionsIOS,
  clearTransactionIOS,
} from 'expo-iap';

// iOS promoted product purchase (renamed)
await requestPurchaseOnPromotedProductIOS();

// Android-specific operations (clear naming)
await acknowledgePurchaseAndroid(purchaseToken);
await consumeProductAndroid(purchaseToken);

// Use recommended function
const purchases = await getAvailablePurchases();

// New iOS transaction management
const pendingTransactions = await getPendingTransactionsIOS();
await clearTransactionIOS(transactionId);
```

## Why These Changes?

1. **Clarity**: Platform-specific functions are immediately identifiable
2. **Consistency**: Naming conventions align with OpenIAP specification
3. **Maintainability**: Easier code review and debugging
4. **Type Safety**: Improved TypeScript auto-completion

## Documentation

For detailed migration instructions, see the [Migration Guide](/docs/guides/migration-2.8.6).

## Acknowledgments

Thank you to all contributors who made this release possible. Special thanks to those who helped resolve platform-specific type mismatches and modernize the Android billing implementation.

## Next Steps

v2.9.0 will remove deprecated functions and include additional OpenIAP specification compliance improvements. Please update your use of deprecated functions early for a smooth migration.

Questions and feedback are welcome at [GitHub Issues](https://github.com/hyochan/expo-iap/issues)!
